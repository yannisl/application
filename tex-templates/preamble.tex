%This is a sample LaTeX input file.  (Version of 12 August 2004.)
%
% A '%' character causes TeX to ignore all remaining text on the line,
% and is used for comments like this one.
% options 
\documentclass[[[options]]]{[[class]]}     % Specifies the document class
%% decide on fonts
\usepackage{ifxetex}
\ifxetex
  \usepackage{fontspec}
  \defaultfontfeatures{Mapping=tex-text}
  \setmainfont{Minion Pro}
  %\setsansfont{Georgia}
\else
  \usepackage{mathpazo}
  \usepackage[T1]{fontenc}
\fi
%
%\usepackage{url}
\usepackage{xspace}
\usepackage{booktabs}
\usepackage{numprint,textcomp,verbatim}
\usepackage{marvosym}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{makeidx}
\usepackage{xcolor}
\usepackage{caption}
\usepackage{lettrine}
\usepackage{comment}

\RequirePackage{listings}

\RequirePackage{tikz}
%
%% Listings default settings
%% Must move to a definition file

\lstdefinelanguage{Verse}%
{morekeywords={poemtitle, poemtoc, versewidth, vin, poemlines,poemtitlefont, 
ProvidesClass,IfFileExists,RequirePackage,ifthenelse,chapter,includegraphics, newarray,readarray,of
}}

\lstloadlanguages{[LaTeX]TeX, [primitive]TeX, Verse}


\lstset{%
	%frame=tblr,
     framesep=5pt,
	basicstyle=\normalsize\ttfamily,
	showstringspaces=false,
	keywordstyle=\itshape\color{blue},
	%identifierstyle=\ttfamily,
	stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{gray!10},
	xleftmargin=5pt,
	xrightmargin=5pt,
	aboveskip=\bigskipamount,
	belowskip=\bigskipamount,
            %backgroundcolor=\color{LightGray!.50}
}

%% We need an environment for pretty printing of Tex/LateX
%% code

\lstnewenvironment{teX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{escapeinside={(*@}{@*)},
   numbers=left,numberstyle=\normalsize,stepnumber=1,numbersep=5pt,
   breaklines=true,
   %firstnumber=last,
       %frame=tblr,
       framesep=5pt,
       basicstyle=\normalsize\ttfamily,
       showstringspaces=false,
       keywordstyle=\itshape\color{blue},
      %identifierstyle=\ttfamily,
       stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{gray!10},
	xleftmargin=0pt,
	xrightmargin=0pt,
	aboveskip=\medskipamount,
	belowskip=\medskipamount,
           backgroundcolor=\color{LightGray!20}, #1
}}
{}

\lstnewenvironment{teXX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{%
      breaklines=true,
      framesep=5pt,
      basicstyle=\normalsize\ttfamily,
      showstringspaces=false,
      keywordstyle=\itshape\color{blue},
      stringstyle=\color{maroon},
      commentstyle=\color{black},
      rulecolor=\color{Gray},
      breakatwhitespace=true,
      xleftmargin=0pt,
      xrightmargin=5pt,
      aboveskip=\medskipamount,
      belowskip=\medskipamount,
      backgroundcolor=\color{gray!10}, #1
}}
{}

% Emphasis is used to emphasize a keyword
% in 
\gdef\emphasis#1{\lstset{emph={write,void,writeln,Hello,#1},
   emphstyle={\itshape\ttfamily\textcolor{blue}}}}

\lstnewenvironment{teXXX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{%
      escapeinside={{(*@}{@*)}},
      breaklines=true,
      framesep=5pt,
      basicstyle=\normalsize\ttfamily,
      showstringspaces=false,
      keywordstyle=\itshape\color{blue},
      stringstyle=\color{maroon},
	 commentstyle=\color{black},
	 rulecolor=\color{gray!10},
      breakatwhitespace=true,
	 xleftmargin=0pt,
	 xrightmargin=5pt,
	 aboveskip=\medskipamount,
	 belowskip=\medskipamount,
      backgroundcolor=\color{gray!10}, #1
}}
{}



\lstnewenvironment{cCode}[1][]
  {\lstset{language=C}\lstset{%
   numbers=left,numberstyle=\normalsize,stepnumber=1,numbersep=5pt,
   %firstnumber=last,
       %frame=tblr,
       framesep=5pt,
       basicstyle=\normalsize\ttfamily,
       showstringspaces=false,
       keywordstyle=\itshape\color{blue},
   %identifierstyle=\ttfamily,
       stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{Gray},
	xleftmargin=5pt,
	xrightmargin=5pt,
	aboveskip=\bigskipamount,
	belowskip=\bigskipamount,
     backgroundcolor=\color{LightGray!.50}, #1
}}
{}


%
%%% Always I forget this so I created some aliases
\def\continueLineNumber{\lstset{firstnumber=last}}
\def\startLineAt#1{\lstset{firstnumber=#1}}
\let\numberLineAt\startLineAt


\lstdefinelanguage{JavaScript} {
	morekeywords={
		break,const,continue,delete,do,while,export,for,in,function,
		if,else,import,in,instanceOf,label,let,new,return,switch,this,
		throw,try,catch,typeof,var,void,with,yield
	},
	sensitive=false,
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]",
	morestring=[d]'
}

\lstset{
	%frame=tb,
	framesep=5pt,
	basicstyle=\small, %\ttfamily,
	showstringspaces=false,
	keywordstyle=\rmfamily\color{blue},
	identifierstyle=\ttfamily,
	stringstyle=\ttfamily\color{orange},
	commentstyle=\color{orange},
	rulecolor=\color{Gray},
	xleftmargin=5pt,
	xrightmargin=5pt,
	aboveskip=\bigskipamount,
	belowskip=\bigskipamount,
            backgroundcolor=\color{LightGray!.50}
}


\DeclareRobustCommand\captionlorem{Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nibh justo,  et blandit lorem.}





\usepackage{hyperref}
\hypersetup{%
  colorlinks=true,
  linkcolor=black,
  urlcolor=blue,
  bookmarks=true,
  bookmarksopen=false,
  bookmarksnumbered=false,
  hyperfootnotes=false,
  plainpages=false,
  pdfpagelabels=true,
  pdfpagemode=UseOutlines,
  pdfview=FitH,
  pdfstartview=FitH}
 
 %The preamble begins here.
\title{\jobname}  % Declares the document's title.
\author{Dr. Yiannis Lazarides}    % Declares the author's name.

% Checks for the file in the local directory. If not found
% it looks in the main tex-template directory.
% This permits editing title and author normally.
% One can add further commands here.
\IfFileExists{../titlepage.dat}{\input{../titlepage.dat}}{%
    \input{../../../tex-templates/titlepage.tex}}

\def\lorem{Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
     Sed nibh justo, dictum sed cursus ac, lobortis et lacus. 
     Vestibulum vitae justo enim. 
     Quisque laoreet elementum felis, ut sodales arcu viverra a. 
     Sed molestie odio vulputate sem rutrum a sagittis est rutrum. 
     Morbi dapibus hendrerit magna, sit amet commodo massa posuere sit amet. 
     Duis pharetra quam scelerisque est lobortis fringilla. 
     Maecenas venenatis feugiat lectus, vel facilisis odio pharetra quis. 
     Etiam at nisl eros, sit amet suscipit lorem. 
     Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
     Sed augue nunc, ornare eget congue sit amet, laoreet vel augue. 
     Morbi vel justo quis ipsum adipiscing egestas vitae non est. 
     Vivamus ac quam quam. 
     Nullam pharetrainterdum mauris, rutrum pulvinar ligula condimentum id. 
     Donec et blandit lorem. }

\newcommand{\wrapleft}[3][1]{}
\newcommand{\wrapright}[3][1]{}

\newcommand{\ph}[3][1]{%
 \begin{figure}[htbp]
   \centering
   \includegraphics[#1]{#2}%
    \caption{#3 }
 \end{figure}}

\newcommand{\phl}[3][1]{%
   \fboxsep0pt%
   \fboxrule0pt%
   \fbox{\begin{minipage}[t]{#1}%
     \mbox{}
     \includegraphics[width=\linewidth]{#2}%
     
    \vbox{%
     \vspace{1em}
      \leftskip5pt\rightskip5pt\RaggedRight
      \footnotesize\noindent#3}%
      \vspace{1em}
   \end{minipage}}%
}


\def\euro{EU }
\def\pound{\pounds}
\def\textprime{$'$}
\let\textdegrees\textdegree
\let\latex\LaTeX
\DeclareRobustCommand\postmark[1]{\textbf{#1}}
\DeclareRobustCommand\ship[1]{\textit{#1}}

\def\heading#1{{\centering\textbf{#1}}}
\def\halfd{$\frac12$}
\def\half{1/2 }
\let\subsubsection\subsection

 \def\soldd#1#2{Estimate \$#1, sold for \$#2}


\IfFileExists{../[[country]]/cover-image.jpg}{
    \def\coverpicture{../[[country]]/cover-image}}%
{\def\coverpicture{../../../tex-templates/cover-image}% 
}


%% We define a command for the second page of the documentation

\newcommand\secondpage{\clearpage\null\vfill\vfill
\thispagestyle{empty}
\begin{minipage}[b]{0.9\textwidth}
\includegraphics[width=3cm]{\coverpicture}\par
\raggedright
\textit{Cover image: } 
The cover image shows Jo Bodeon, a back-roper in the mule room at Chace 
Cotton Mill. Burlington, Vermont. This and other similar images in 
this book were taken by Lewis W. Hine, in the period between 1908-1912. 
These images as well as social campaigns by many including Hine, 
helped to formulate America's anti-child labour laws.
\end{minipage}\par
 \vspace*{\baselineskip}
\begin{minipage}[b]{0.9\textwidth}
\raggedright
\setlength{\parskip}{0.5\baselineskip}
Copyright \copyright 2012  Dr Yiannis Lazarides\par
Permission is granted to copy, distribute and\slash or modify this document under 
the terms of the GNU Free Documentation License, version 1.2, with no invariant 
sections, no front-cover texts, and no back-cover texts.\par
A copy of the license is included in the appendix.\par
This document is distributed in the hope that it will be useful, 
but without any warranty; without even the implied warranty of 
merchantability or fitness for a particular purpose.
\end{minipage}

\vspace*{2\baselineskip}
\clearpage
}

%% PRODUCES THE COVER PAGE OF THE DOCUMENTATION
\newcommand\coverpage[3]{%
\hfill\hfill%
\hbox{\vbox{%
  \vspace*{2cm}

 % \hspace{-3.52cm}
  \includegraphics[width=0.5\paperwidth]{#1}\hfill\par
  \vspace*{3\baselineskip}
   \hbox to \hsize{\Huge \hfill\hfill{\MakeUppercase{\bfseries \textsf{[[country1]] STAMPS}}}}
   \vspace*{0.3cm}
   \hbox to \hsize{\Huge \hfill\hfill{\MakeUppercase{\bfseries \textsf{AND POSTAL HISTORY}}}}
  \vspace*{2\baselineskip}
   \hbox to \hsize{\huge \hfill\hfill\textsf{\hbox{#2}}}
    \vspace*{1.35cm}
   \hbox to \hsize{\huge \hfill\hfill\textsf{\hbox{#3}}}
}}
}

\def\cent{cent}
\let\latex\LaTeX
\let\tex\TeX

%% Backslash
%%
%% define backsalsh
%% you can also use \textbackslash
\newcommand{\tuftebs}{\symbol{'134}}% a backslash in tt type in OT1/T1
\DeclareRobustCommand\hlred[1]{\color{red}{#1}}
%% shortcut for index command. In index the @ is an active character
%% we neutralize it by putting it in inverted commas. Needs to use patterns
%% to neutralize it everywhere maybe use \makeatletter \makeatother
%% ned to check if better to Declare it declareRobustCommand
%% \indexat{<>}
%% adds the `@' automatically

\xdef\at{"@"}

\newcommand{\indexat}[1]{%
 % place it in color in the text
\hlred{\texttt{\textbackslash @#1\relax}\xspace}% we define the marginpar part first
\marginpar{\normalsize\hlred{\textbackslash @#1}}%
% we place in index
\index{\textbackslash\at#1}}%

\newcommand{\doccmdnoindex}[2][]{\texttt{\tuftebs#2}}


% command name -- adds backslash automatica%%lly (and doesn't add cmd to the index)

\newcommand{\doccmddef}[2][]{%
  \hlred{\texttt{\tuftebs#2}}\label{cmd:#2}%
  \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
      \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically

%% doc commands
% % adds hem automatically to index

\newcommand{\doccmd}[2][]{%
  \texttt{\hlred{\tuftebs#2}}%
    \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
      % \marginpar{\hlred{#1}}
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
     \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically



%% doc options
%
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}% optional command argument

\newcommand{\docarg}[1]{\textrm{\textit{#1}}}% (required) command argument
\newenvironment{docspec}{\begin{quotation}\ttfamily\parskip0pt\parindent0pt\ignorespaces}{\end{quotation}}% command specification environment


\newcommand{\docenv}[1]{\texttt{#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name


\newcommand{\docenvdef}[1]{\hlred{\texttt{#1}}\label{env:#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name

%% Provide a  command to add packages to index
%%  \docpck{babel}
\newcommand{\docpkg}[1]{\hlred{\texttt{#1}}\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}
\marginpar{\hlred{#1~package}}
}% package name

%% Provide a command for document cls - do not add to index
%
\newcommand{\doccls}[1]{\texttt{{\hlred{#1}}}{\index{Classes!#1}}}% document class name

\newcommand{\docclsopt}[1]{\texttt{#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name
\newcommand{\docclsoptdef}[1]{\hlred{\texttt{#1}}\label{clsopt:#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name defined
\newcommand{\docmsg}[2]{\bigskip\begin{fullwidth}\noindent\ttfamily#1\end{fullwidth}\medskip\par\noindent#2}
\newcommand{\docfilehook}[2]{\texttt{#1}\index{file hooks!#2}\index{#1@\texttt{#1}}}
\newcommand{\doccounter}[1]{\texttt{#1}\index{#1 counter@\texttt{#1} counter}}

%% margin document commands
%
\newcommand{\margindoc}[1]{\marginpar[]{\doccmd{#1}}}

\newcommand{\sidebarcolor}[1]{\textcolor{darkgray}{\sidenote[]{#1}}}

%% alias of \doccmnd but puts in index as well as text and marginpar
\newcommand{\cmd}[1]{\doccmd{#1}\xspace \marginpar[]{\hlred{\doccmd{#1}}}}


% Some advices from Rolf Niepraschk in arrajobx package
\newcommand{\BS}{\texttt{\symbol{`\\}}}
\newcommand{\Macro}[1]{\texttt{\BS#1}}
\newcommand{\Variable}[1]{\textnormal{\textit{\(\langle\)#1\,\(\rangle\)}}}
\newcommand{\Parameter}[1]{\texttt{\symbol{`\{}#1\symbol{`\}}}}

% To format TeX macro strings
\newcommand{\FormatTeXMacro}[1]{\Macro{#1}\hfill :}

% Typesets the font size, leading, and measure in the form of 10/12x26 pc.
\newcommand{\measure}[3]{#1/#2$\times$\unit[#3]{pc}}


%% Aliases

\let\pkg\docpkg
\newcommand*\switch[2]{{\fontfamily{#1}\selectfont #2}}

%% For files typeset using extension
\newcommand{\dtx}{\texttt{.dtx}}
\newcommand{\cls}{\texttt{.cls}}
\newcommand{\sty}{\texttt{.sty}}
\newcommand{\ins}{\texttt{.ins}}
\newcommand{\txt}{\texttt{.txt}}

\let\ins\relax
\newcommand{\ins}{\texttt{.ins}}

\newcommand\docfile[1]{\texttt{#1}}

%% From stmarysrd symbols package
%% A very convenient command to typeset symbols.
%% Much preferable than tables

\def\symbols{\flushleft}
\def\endsymbols{\endflushleft}
\def\dosymbol#1{\leavevmode\hbox to .33\textwidth{\hbox to 1.2em
    {\hss$#1$\hfil}\footnotesize\tt\string#1\hss}\penalty10}

%% The command indexes a command for a package
%% # 1 package name
%% # 2 command
%% must extend to provide a definitions summary
%% needs work

\newcommand{\pmac}[2]{\index{#1 package!#2}{\hlred{\textbackslash #2}}\protect\marginpar{\protect\hlred{\textbackslash #2}}}

%% We can print the layout using  the \printlayout
%% this gives the major dimensions
\def\printf#1{\leavevmode #1 \par}

\newcommand{\printlayout}{%
\tt
\printf{}
\printf{Page height and width:\the\paperheight\space by \the\paperwidth}
\printf{Text height and width:\the\textheight\space by \the\textwidth}
\printf{Headheight and headsep:\the\headheight\space and \the\headsep}
\printf{Footskip: \the\footskip}
\printf{Columnsep and columnseprule: \the\columnsep\space and \the\columnseprule}
\printf{Marginparsep and marginparwidth: \the\marginparsep\space and \the\marginparwidth}
\printf{}
}


\gdef\indentOn{\parindent0.5em}
\gdef\indentOff{\noindent}



\setcounter{tocdepth}{3}

[[macrohook]]
\def\gross{\textit{Gross Sale}}

%\usepackage{hyperref}

\begin{document}             % End of preamble and beginning of text.
\frontmatter
\pagestyle{empty}

\IfFileExists{../[[country]]/cover-image.jpg}{
     \coverpage{../[[country]]/cover-image.jpg}{Yiannis Lazarides}{Published by Camel  Press}}%
{\coverpage{\coverpicture}{Yiannis Lazarides}{Published by Camel Press NF}% 
}

\secondpage
\maketitle
\tableofcontents
%\listoftables
%\listoffigures

\mainmatter

                                                                                                   