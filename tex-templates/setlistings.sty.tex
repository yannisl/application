% Provides various settings for typesetting
% code listings using the listings package
% 2011 
% Dr Yiannis Lazarides
%

\ProvidesFile{setlistings}

%%% Listings based environments
%%\usepackage{showexpl}
%\RequirePackage[usenames,dvipsnames,svgnames]{xcolor} %TUFTE 
%\RequirePackage[dvipsnames,x11names,svgnames]{xcolor}% used by tufte-book
\RequirePackage{listings}
%
%% Listings default settings
%% Must move to a definition file

\lstdefinelanguage{Verse}%
{morekeywords={poemtitle, poemtoc, versewidth, vin, poemlines,poemtitlefont, 
ProvidesClass,IfFileExists,RequirePackage,ifthenelse,chapter,includegraphics, newarray,readarray,of
}}

\lstloadlanguages{[LaTeX]TeX, [primitive]TeX, Verse}


\lstset{%
	%frame=tblr,
     framesep=5pt,
	basicstyle=\normalsize\ttfamily,
	showstringspaces=false,
	keywordstyle=\itshape\color{blue},
	%identifierstyle=\ttfamily,
	stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{gray!10},
	xleftmargin=5pt,
	xrightmargin=5pt,
	aboveskip=\bigskipamount,
	belowskip=\bigskipamount,
            %backgroundcolor=\color{LightGray!.50}
}

%% We need an environment for pretty printing of Tex/LateX
%% code

\lstnewenvironment{teX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{escapeinside={(*@}{@*)},
   numbers=left,numberstyle=\normalsize,stepnumber=1,numbersep=5pt,
   breaklines=true,
   %firstnumber=last,
       %frame=tblr,
       framesep=5pt,
       basicstyle=\normalsize\ttfamily,
       showstringspaces=false,
       keywordstyle=\itshape\color{blue},
      %identifierstyle=\ttfamily,
       stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{gray!10},
	xleftmargin=0pt,
	xrightmargin=0pt,
	aboveskip=\medskipamount,
	belowskip=\medskipamount,
           backgroundcolor=\color{LightGray!20}, #1
}}
{}

\lstnewenvironment{teXX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{%
      breaklines=true,
      framesep=5pt,
      basicstyle=\normalsize\ttfamily,
      showstringspaces=false,
      keywordstyle=\itshape\color{blue},
      stringstyle=\color{maroon},
	 commentstyle=\color{black},
	 rulecolor=\color{Gray},
      breakatwhitespace=true,
	 xleftmargin=0pt,
	 xrightmargin=5pt,
	 aboveskip=\medskipamount,
	 belowskip=\medskipamount,
      backgroundcolor=\color{gray!10}, #1
}}
{}

%% Emphasis

\gdef\emphasis#1{\lstset{emph={write,void,writeln,Hello,#1},
   emphstyle={\itshape\ttfamily\textcolor{blue}}}}

\lstnewenvironment{teXXX}[1][]
  {\lstset{language=[LaTeX]TeX}\lstset{%
      escapeinside={{(*@}{@*)}},
      breaklines=true,
      framesep=5pt,
      basicstyle=\normalsize\ttfamily,
      showstringspaces=false,
      keywordstyle=\itshape\color{blue},
      stringstyle=\color{maroon},
	 commentstyle=\color{black},
	 rulecolor=\color{gray!10},
      breakatwhitespace=true,
	 xleftmargin=0pt,
	 xrightmargin=5pt,
	 aboveskip=\medskipamount,
	 belowskip=\medskipamount,
      backgroundcolor=\color{gray!10}, #1
}}
{}







\lstnewenvironment{cCode}[1][]
  {\lstset{language=C}\lstset{%
   numbers=left,numberstyle=\normalsize,stepnumber=1,numbersep=5pt,
   %firstnumber=last,
       %frame=tblr,
       framesep=5pt,
       basicstyle=\normalsize\ttfamily,
       showstringspaces=false,
       keywordstyle=\itshape\color{blue},
   %identifierstyle=\ttfamily,
       stringstyle=\color{maroon},
	commentstyle=\color{black},
	rulecolor=\color{Gray},
	xleftmargin=5pt,
	xrightmargin=5pt,
	aboveskip=\bigskipamount,
	belowskip=\bigskipamount,
     backgroundcolor=\color{LightGray!.50}, #1
}}
{}


%
%%% Always I forget this so I created some aliases
\def\continueLineNumber{\lstset{firstnumber=last}}
\def\startLineAt#1{\lstset{firstnumber=#1}}
\let\numberLineAt\startLineAt

